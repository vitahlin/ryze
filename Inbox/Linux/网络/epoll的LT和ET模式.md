
缓冲区可写(有空的区域)，就可以触发，epoll 有两种模式LT(水平触发)和ET(边缘触发)，LT模式下，主要缓冲区数据一次没有处理完，那么下次epoll_wait返回时，还会返回这个句柄；而ET模式下，缓冲区数据处理一次就结束，下次是不会再通知了，只在第一次返回．所以在ET模式下，一般是通过while循环，一次性读完全部数据．epoll默认使用的是LT。

假设现在对方一口气发送了大量数据过来，以至于这边没法通过一次 `read` 就全部读取完毕。

由于 ET 模式只会通知一次，所以这边对应的数据读取函数中不得不循环 `read` 多次，以保证把对方本次发送的数据全部读取完毕。比如说这样：
```c
while ((n = read(...)) > 0) {
    ....
}
```

否则如果你只read一次，那么剩下的那些数据可能就永远也没有通知了。由于上面那个循环的存在，文件描述符必须是非阻塞的。

而LT模式会持续通知直到你把对方本次发送的数据全部读取完毕，所以这边对应的数据读取函数中只需要read一次就行了，而且绝对不会阻塞（此处不太准确）。