listen 函数仅有 TCP 服务端调用。
```c
#include<sys/socket.h>
int listen ( int sockfd,  int backlog )
```

它做两件事情：
1.  当 socket 函数创建一个套接字时，它被假设成一个主动套接字，就是说它是一个将调用 connect 函数发起连接的客户端套接字。listen 函数则把一个未连接套接字转换成一个被动套接字，指示内核应接受该套接字的连接请求。调用 listen 将把套接字从 CLOSED 状态转换到 LISTEN 状态；
2.  第二个参数规定了内核应该为相应套接字排队的最大连接个数。

如何理解参数 backlog？
> 内核为任何一个给定的监听套接字维护两个队列：
> 1. 未完成连接队列。服务区正在等待完成相应的TCP三次握手连接。
> 2. 已完成连接队列。每个已经完成的TCP三次握手过程的客户对应其中一项。

上述两个队列之和不超过 backlog。